var Model={state:{clicks:0,error:"",className:"",show:!0,input:"",itemInputs:[1,2,3,4,5],items:[1,2,3,4,5]}};function main(){var e={clicks:0,error:"",className:"",show:!0,input:"",itemInputs:[],items:[]},t=e;function n(e){var n;console.log("removing item "+e.target.getAttribute("data-index")),t.items.splice(n=1*e.target.getAttribute("data-index"),1),t.itemInputs.splice(n),c()}function i(e){var n=e.target.getAttribute("data-index");t.itemInputs[n]=e.target.value}function o(e){var n=e.target.getAttribute("data-index");t.items[n]=t.itemInputs[n],t.itemInputs[n]="",c()}function a(){window.localStorage&&window.localStorage.setItem("model",JSON.stringify(t))}setTimeout((function(){console.log("loading model"),t=JSON.parse(window.localStorage.getItem("model"))||e,c()}),0);var s=!1;function u(e){return function(t){return t[e]}}window.addEventListener("hashchange",(function(){t.show=!t.show,console.log(t.show),c()}));var d=h("div",{"class":"ahoj"},[h("h1",{"class":u("className"),ev:{click:function(e){t.className="red"===t.className?"":"red",c()}}},"Ahoj"),h("div",s,[h("p",s,u("clicks"))]),h("span",s,u("error")),h("a",{href:"#prdel",ev:{click:function(e){}}},"link1"),h("hr"),h("button",{ev:{mousedown:function(e){t.clicks++,t.clicks>0&&(t.error="",t.show=!0),c()}}},"   +   "),h("i",s," "),h("button",{ev:{mousedown:function(e){t.clicks--,t.clicks<0&&(t.error="Fok You!",t.show=!1),c()}}},"   -   "),hIf(h("h2",s,"Ahoj"),u("error"),h("span",s,u("error"))),hIf(h("div"),u("show"),h("div",s,[h("div",s,[h("div",s,[h("h1",s,"Ahoj")]),h("div",s,[h("h2",s,"Dalsi ahoj")])])])),hFor(h("ul"),u("items"),(function(){return h("li",s,[h("span",s,u("item")),h("span",s," "),h("input",{value:u("item"),"data-index":u("index"),ev:{change:i}}),h("button",{"data-index":u("index"),ev:{click:o}},"edit"),h("button",{"data-index":u("index"),ev:{mouseup:n}}," X ")])})),h("input",{value:u("input"),ev:{change:function(e){t.input=e.target.value}}}),h("button",{ev:{mouseup:function(e){t.items.push(t.input),t.itemInputs.push(t.input),t.input="",c()}}},"add Item")]);function c(e){setTimeout(a,0),"update"in d?d.update(e||t):d(e||t)}"update"in d?d.update(t):d(t);var r=document.getElementById("app");r.innerHTML="",r.appendChild(d.ref)}function route(e){console.log("hashchange")}window.addEventListener?window.addEventListener("load",main,!1):window.attachEvent&&(document.onreadystatechange=new function(){"complete"!==document.readyState&&"interactive"!==document.readyState||main()}),window.addEventListener("popstate",(function(e){console.log("popstate")})),window.addEventListener("hashchange",route);