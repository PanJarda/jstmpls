var model={clicks:0,error:"","class":"",show:!0,input:"",itemInputs:[1,2,3,4,5],items:[1,2,3,4,5]};function addClicks(e){model.clicks++,model.clicks>0&&(model.error="",model.show=!0),updateView()}function subClicks(e){model.clicks--,model.clicks<0&&(model.error="Fok You!",model.show=!1),updateView()}function toggleClass(e){model["class"]="red"===model["class"]?"":"red",updateView()}function inputChange(e){model.input=e.target.value}function addItem(e){model.items.push(model.input),model.itemInputs.push(model.input),model.input="",updateView()}function removeItem(e){var t;console.log("removing item "+e.target.getAttribute("data-index")),model.items.splice(t=1*e.target.getAttribute("data-index"),1),model.itemInputs.splice(t),updateView()}function itemInputChange(e){var t=e.target.getAttribute("data-index");model.itemInputs[t]=e.target.value}function editItem(e){var t=e.target.getAttribute("data-index");model.items[t]=model.itemInputs[t],model.itemInputs[t]="",updateView()}var _=!1;function get(e){return function(t){return t[e]}}var view=h("div",{"class":"ahoj"},[h("h1",{"class":get("class"),ev:{click:toggleClass}},"Ahoj"),h("div",_,[h("p",_,get("clicks"))]),h("span",_,get("error")),h("hr"),h("button",{ev:{mouseup:addClicks}},"   +   "),h("i",_,"   "),h("button",{ev:{mouseup:subClicks}},"   -   "),hIf(h("h2",_,"Ahoj"),get("error"),h("span",_,get("error"))),h("div",_,[h("div",_,[h("div",_,[h("div",_,[h("h1",_,"Ahoj")]),h("div",_,[h("h2",_,"Dalsi ahoj")])])])]),hFor(h("ul"),get("items"),(function(){return h("li",_,[h("span",_,get("item")),h("span",_," "),h("input",{value:get("item"),"data-index":get("index"),ev:{change:itemInputChange}}),h("button",{"data-index":get("index"),ev:{click:editItem}},"edit"),h("button",{"data-index":get("index"),ev:{mouseup:removeItem}}," X ")])})),h("input",{value:get("input"),ev:{change:inputChange}}),h("button",{ev:{mouseup:addItem}},"add Item")]),app=document.getElementById("app");function updateView(){view.update(model)}app.innerHTML="",app.appendChild(view.ref),updateView();