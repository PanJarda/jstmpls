!function(e){"use strict";e.foreach=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(e))for(var i=e.length,r=0;r<i;r++)t(n,e[r],r,e);else for(var o in e){if(e.hasOwnProperty(o))t(n,e[o],o,e)}}}(window),function(e,t){"use strict";var n={string:function(e){var t=document.createTextNode(e.children);e.ref.appendChild(t)},"function":function(e){var t=document.createTextNode("");e.ref.appendChild(t),e.puns.push({fn:e.children,node:t})},object:function(){function e(e,t){e.ref.appendChild(t.ref)}return function(n){t(n.children,e,n)}}()},i=function(){function e(e,t,n){e.ref.addEventListener(n,t,!1)}return function(n,i,r){if("ev"!==r){if("function"==typeof i){var o=document.createAttribute(r);return n.puns.push({fn:i,node:o}),void n.ref.setAttributeNode(o)}n.ref.setAttribute(r,i)}else t(i,e,n)}}();function r(e,t){var n=t.fn(e.model);t.old!==n&&("object"==typeof t.node?"INPUT"===e.ref.tagName&&"value"===t.node.name&&e.ref.value!==n?e.ref.value=n:t.node.nodeValue=n:e.ref.setAttribute(t.node,n),t.old=n)}function o(e,t){t.update(e.model)}function d(e,t,n){if(e.old[n]!==t){var i={index:n,item:t,parent:e.model};if(e.children[n])e.children[n].update(i);else{var r=e.factory();r.update(i),e.children.push(r),e.parent.ref.appendChild(r.ref)}}}function h(e,r,o){this.puns=[],this.ref=document.createElement(e),this.children=o,t(r,i,this);var d=n[typeof o];d&&d(this)}function f(e,t,n){this.parent=e,this.appended=!1,this.ref=e.ref,this.cond=t,this.child=n}function c(e,t,n){this.old=[],this.children=[],this.parent=e,this.arrFn=t,this.factory=n,this.ref=e.ref}function a(e,t){e.parent.ref.removeChild(t.ref)}function s(e,t,n){return new h(e,t,n)}function u(e,t,n){return new f(e,t,n)}function p(e,t,n){return new c(e,t,n)}h.prototype.update=function(e){t(this.puns,r,{model:e,ref:this.ref}),"object"==typeof this.children&&t(this.children,o,{model:e})},f.prototype.update=function(e){this.parent.update(e);var t=this.cond(e);t&&this.child.update(e),this.appended&&!t?(this.parent.ref.removeChild(this.child.ref),this.appended=!1):t&&(this.parent.ref.appendChild(this.child.ref),this.appended=!0)},c.prototype.update=function(e){this.parent.update(e);var n=this.arrFn(e);t(n,d,{model:e,children:this.children,old:this.old,parent:this.parent,factory:this.factory});var i=this.old.length,r=n.length;if(i>r){var o=this.children.slice(r,i);this.children.splice(r),t(o,a,this)}this.old=n.slice()},e&&(e.h=s,e.hIf=u,e.hFor=p)}(window,window.foreach);