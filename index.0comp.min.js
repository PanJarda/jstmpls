!function(e){"use strict";e.foreach=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(e))for(var i=e.length,r=0;r<i;r++)t(n,e[r],r,e);else for(var o in e){if(e.hasOwnProperty(o))t(n,e[o],o,e)}}}(window),function(e,t){"use strict";function n(e,t){e.ref.appendChild(t.ref)}var i={string:function(e){var t=document.createTextNode(e.children);e.ref.appendChild(t)},"function":function(e){var t=document.createTextNode("");e.ref.appendChild(t),e.puns.push({fn:e.children,node:t})},object:function(e){t(e.children,n,e)}};function r(e,t,n){e.ref.addEventListener(n,t,!1)}function o(e,n,i){if("ev"!==i){if("function"==typeof n){var o=document.createAttribute(i);return e.puns.push({fn:n,node:o}),void e.ref.setAttributeNode(o)}e.ref.setAttribute(i,n)}else t(n,r,e)}function d(e,t){var n=t.fn(e.model);t.old!==n&&("object"==typeof t.node?"INPUT"===e.ref.tagName&&"value"===t.node.name&&e.ref.value!==n?e.ref.value=n:t.node.nodeValue=n:e.ref.setAttribute(t.node,n),t.old=n)}function h(e,t){t.update(e.model)}function f(e,t,n){if(e.old[n]!==t){var i={index:n,item:t,parent:e.model};if(e.children[n])e.children[n].update(i);else{var r=e.factory();r.update(i),e.children.push(r),e.parent.ref.appendChild(r.ref)}}}function a(e,n,r){this.puns=[],this.ref=document.createElement(e),this.children=r,t(n,o,this);var d=i[typeof r];d&&d(this)}function c(e,t,n){this.parent=e,this.appended=!1,this.ref=e.ref,this.cond=t,this.child=n}function s(e,t,n){this.old=[],this.children=[],this.parent=e,this.arrFn=t,this.factory=n,this.ref=e.ref}function p(e,t,n){return new a(e,t,n)}function u(e,t,n){return new c(e,t,n)}function l(e,t,n){return new s(e,t,n)}a.prototype.update=function(e){t(this.puns,d,{model:e,ref:this.ref}),"object"==typeof this.children&&t(this.children,h,{model:e})},c.prototype.update=function(e){this.parent.update(e);var t=this.cond(e);t&&this.child.update(e),this.appended&&!t?(this.parent.ref.removeChild(this.child.ref),this.appended=!1):t&&(this.parent.ref.appendChild(this.child.ref),this.appended=!0)},s.prototype.update=function(e){this.parent.update(e);var n=this.arrFn(e);t(n,f,{model:e,children:this.children,old:this.old,parent:this.parent,factory:this.factory});var i=this.old.length,r=n.length;if(i>r){var o=i-r;for(this.children.splice(r);o--;)this.parent.ref.removeChild(this.parent.ref.children[r])}this.old=n.slice()},e&&(e.h=p,e.hIf=u,e.hFor=l)}(window,window.foreach);