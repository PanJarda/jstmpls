function append(e){e.ref&&this.root.appendChild(e.ref)}function updatePun(e){var t=e[1],r=e[0],o=e[2],n=r(this.model);"INPUT"===this.root.tagName&&"object"==typeof t&&"value"===t.name&&this.root.value!==n?this.root.value=n:o!==n&&("object"==typeof t?t.nodeValue=n:this.root.setAttribute(t,n),e[2]=n)}function passModel(e){e(this.model)}function attachEvHandlers(e){this.root.addEventListener(e,this.props.ev[e])}function setAttribute(e){if("ev"===e)Object.keys(this.props.ev).forEach(attachEvHandlers,this);else if("function"==typeof this.props[e]){var t=document.createAttribute(e);this.puns.push([this.props[e],t,null]),this.root.setAttributeNode(t)}else this.root.setAttribute(e,this.props[e])}function h(e,t,r){var o=document.createElement(e),n=[];t&&Object.keys(t).forEach(setAttribute,{root:o,props:t,puns:n});if(Array.isArray(r))r.forEach(append,{root:o});else if("function"==typeof r){var i=document.createTextNode("");o.appendChild(i),n.push([r,i,null])}else r&&o.appendChild(document.createTextNode(r));var f=function(e){n.forEach(updatePun,{model:e,root:o}),Array.isArray(r)&&r.forEach(passModel,{model:e})};return f.ref=o,f}function hIf(e,t,r){var o=!1,n=function(n){e(n),r(n);var i=t(n);o?i||(e.ref.removeChild(r.ref),o=!1):i&&(e.ref.appendChild(r.ref),o=!0)};return n.ref=e.ref,n}function hFor(e,t,r,o,n){var i=[],f=[],s=function(s){e(s);var a,u=t(s);u.forEach((function(t,s){i[s]!==t&&(f[s]?f[s]({index:s,item:t}):((a=h(r,o,"function"==typeof n?n():n))({index:s,item:t}),f.push(a),e.ref.appendChild(a.ref)))}));var p=i.length,c=u.length;if(p>c){var d=p-c;for(f.splice(c);d--;)console.log(e.ref.children[c]),e.ref.removeChild(e.ref.children[c])}i=u.slice()};return s.ref=e.ref,s}function _prop(e){return function(t){return t[e]}}