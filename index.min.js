function updatePun(e){var t=e.node,r=e.fn(this.model);e.old!==r&&("object"==typeof t?"INPUT"===this.root.tagName&&"value"===t.name&&this.root.value!==r?this.root.value=r:t.nodeValue=r:this.root.setAttribute(t,r),e.old=r)}function attachEvHandlers(e){this.root.addEventListener(e,this.props.ev[e])}function setAttribute(e){if("ev"!==e){if("function"==typeof this.props[e]){var t=document.createAttribute(e);return this.puns.push({fn:this.props[e],node:t}),void this.root.setAttributeNode(t)}this.root.setAttribute(e,this.props[e])}else{Object.keys(this.props.ev).forEach(attachEvHandlers,this)}}function h(e,t,r){var o=document.createElement(e),n=[];switch(t&&Object.keys(t).forEach(setAttribute,{root:o,props:t,puns:n}),typeof r){case"string":o.appendChild(document.createTextNode(r));break;case"function":var i=document.createTextNode("");o.appendChild(i),n.push({fn:r,node:i});break;case"object":r.forEach((function(e){o.appendChild(e.ref)}))}var f=function(e){n.forEach(updatePun,{model:e,root:o}),"object"==typeof r&&r.forEach((function(t){t(e)}))};return f.ref=o,f}function hIf(e,t,r){var o=!1,n=function(n){e(n);var i=t(n);i&&r(n),o&&!i?(e.ref.removeChild(r.ref),o=!1):i&&(e.ref.appendChild(r.ref),o=!0)};return n.ref=e.ref,n}function hFor(e,t,r,o,n){var i=[],f=[],a=function(a){e(a);var s,c=t(a);c.forEach((function(t,a){if(i[a]!==t){if(f[a])return f[a]({index:a,item:t});(s=h(r,o,"function"==typeof n?n():n))({index:a,item:t}),f.push(s),e.ref.appendChild(s.ref)}}));var u=i.length,d=c.length;if(u>d){var p=u-d;for(f.splice(d);p--;)e.ref.removeChild(e.ref.children[d])}i=c.slice()};return a.ref=e.ref,a}