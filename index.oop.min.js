!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,!0):t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";function r(e,t,r){var n=this;for(var d in n.puns=[],n.ref=document.createElement(e),n.children=r,t)n.setAttribute(d,t[d]);switch(typeof r){case"string":n.ref.appendChild(document.createTextNode(r));break;case"function":var o=document.createTextNode("");n.ref.appendChild(o),n.puns.push({fn:r,node:o});break;case"object":for(var i=r.length,f=0;f<i;f++)n.ref.appendChild(r[f].ref)}}function n(e,t,r){var n=this;n.parent=e,n.appended=!1,n.ref=e.ref,n.cond=t,n.child=r,n.ref=e.ref}function d(e,t,r){var n=this;n.old=[],n.children=[],n.parent=e,n.arrFn=t,n.childFactory=r,n.ref=e.ref}function o(e,t,n){return new r(e,t,n)}function i(e,t,r){return new n(e,t,r)}function f(e,t,r){return new d(e,t,r)}return r.prototype.setAttribute=function(e,t){var r=this.ref;if("ev"!==e){if("function"==typeof t){var n=document.createAttribute(e);return this.puns.push({fn:t,node:n}),void r.setAttributeNode(n)}r.setAttribute(e,t)}else for(var d in t)r.addEventListener(d,t[d],!1)},r.prototype.update=function(e){var t,r,n,d=this,o=0,i=d.puns.length;for(o=0;o<i;o++){if(t=(r=d.puns[o]).node,n=r.fn(e),r.old===n)return;"object"==typeof t?"INPUT"===d.ref.tagName&&"value"===t.name&&d.ref.value!==n?d.ref.value=n:t.nodeValue=n:d.ref.setAttribute(t,n),r.old=n}if("object"==typeof d.children)for(o in d.children)d.children[o].update(e)},n.prototype.update=function(e){var t=this,r=t.child,n=t.parent,d=t.cond(e);n.update(e),d&&r.update(e),t.appended&&!d?(n.ref.removeChild(r.ref),t.appended=!1):d&&(n.ref.appendChild(r.ref),t.appended=!0)},d.prototype.update=function(e){var t=this;t.parent.update(e);for(var r,n,d=t.arrFn(e),o=d.length,i=0;i<o;i++)n=d[i],t.old[i]!==n&&(t.children[i]?t.children[i].update({index:i,item:n,parent:e}):((r=t.childFactory()).update({index:i,item:n,parent:e}),t.children.push(r),t.parent.ref.appendChild(r.ref)));var f=t.old.length,a=d.length;if(f>a)for(i=f-a,t.children.splice(a);i--;)t.parent.ref.removeChild(t.parent.ref.children[a]);t.old=d.slice()},t||(e.h=o,e.hIf=i,e.hFor=f),{h:o,hIf:i,hFor:f}}));