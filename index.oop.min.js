!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(e,!0):t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";function r(e,t,r){var n=this;for(var d in n.puns=[],n.ref=document.createElement(e),n.children=r,t)n.setAttribute(d,t[d]);switch(typeof r){case"string":n.ref.appendChild(document.createTextNode(r));break;case"function":var i=document.createTextNode("");n.ref.appendChild(i),n.puns.push({fn:r,node:i});break;case"object":for(var o=r.length,f=0;f<o;f++)n.ref.appendChild(r[f].ref)}}function n(e,t,r){var n=this;n.parent=e,n.appended=!1,n.ref=e.ref,n.cond=t,n.child=r,n.ref=e.ref}function d(e,t,r){var n=this;n.old=[],n.children=[],n.parent=e,n.arrFn=t,n.childFactory=r,n.ref=e.ref}function i(e,t,n){return new r(e,t,n)}function o(e,t,r){return new n(e,t,r)}function f(e,t,r){return new d(e,t,r)}return r.prototype={setAttribute:function(e,t){var r=this;if("ev"!==e){if("function"==typeof t){var n=document.createAttribute(e);return r.puns.push({fn:t,node:n}),void r.ref.setAttributeNode(n)}r.ref.setAttribute(e,t)}else for(var d in t)r.ref.addEventListener?r.ref.addEventListener(d,t[d],!1):r.ref.attachEvent&&r.ref.attachEvent("on"+d,(function(e){e.target=e.srcElement,t[d](e)}))},update:function(e){var t,r,n,d=this,i=0,o=d.puns.length;for(i=0;i<o;i++){if(t=(r=d.puns[i]).node,n=r.fn(e),r.old===n)return;"object"==typeof t?"INPUT"===d.ref.tagName&&"value"===t.name&&d.ref.value!==n?d.ref.value=n:t.nodeValue=n:d.ref.setAttribute(t,n),r.old=n}if("object"==typeof d.children)for(i in d.children)d.children[i].update(e)}},n.prototype.update=function(e){var t=this,r=t.child,n=t.parent,d=t.cond(e);n.update(e),d&&r.update(e),t.appended&&!d?(n.ref.removeChild(r.ref),t.appended=!1):d&&(n.ref.appendChild(r.ref),t.appended=!0)},d.prototype.update=function(e){var t=this;t.parent.update(e);for(var r,n,d=t.arrFn(e),i=d.length,o=0;o<i;o++)n=d[o],t.old[o]!==n&&(t.children[o]?t.children[o].update({index:o,item:n}):((r=t.childFactory()).update({index:o,item:n}),t.children.push(r),t.parent.ref.appendChild(r.ref)));var f=t.old.length,a=d.length;if(f>a)for(o=f-a,t.children.splice(a);o--;)t.parent.ref.removeChild(t.parent.ref.children[a]);t.old=d.slice()},t||(e.h=i,e.hIf=o,e.hFor=f),{h:i,hIf:o,hFor:f}}));